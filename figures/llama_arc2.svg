<svg width="343" height="672" xmlns="http://www.w3.org/2000/svg">
 <g id="Layer_1">
  <title>Layer 1</title>
  <g id="svg_2">
   <defs transform="translate(0.0000343323 0) translate(-0.000038147 0) translate(0.0000343323 0) translate(-3.00004 0) translate(0.0000343323 0) translate(-3.00004 0) translate(0.0000343323 0) translate(-3.00004 0) translate(0.0000343323 0) translate(-0.000038147 0) translate(0.0000343323 0) translate(-3 0) translate(-0.0000038147 0) translate(-0.0000038147 0) translate(-0.0000038147 0) translate(0.0000343323 0) translate(-0.000038147 0) translate(0.0000343323 0) translate(-0.000038147 0) translate(0.0000343323 0) translate(-3.00004 0) translate(0.0000343323 0) translate(-0.000038147 0) translate(0.0000343323 0) translate(-3.00004 0) translate(0.0000343323 0) translate(-3 0) translate(-0.0000038147 0) translate(-0.0000038147 0) translate(-0.0000038147 0) translate(0.0000343323 0) translate(-0.000038147 0) translate(0.0000343323 0) translate(-0.000038147 0) translate(0.0000343323 0) translate(-0.000038147 0) translate(0.0000343323 0) translate(-0.000038147 0) translate(0.0000343323 0) translate(-0.000038147 0) translate(0.0000343323 0) translate(-3 0) translate(-3 0) translate(-0.0000038147 0) translate(-0.0000038147 0) translate(0.0000305176 0) translate(0 0.00000190735) translate(0 3) translate(0 6) translate(0 0.00000190735) translate(0 -9.53674e-7) translate(0 3) translate(0 0.00000190735) translate(0 -9.53674e-7) translate(0 -9.53674e-7) translate(0 3) translate(0 3) translate(0 3) translate(0 9.53674e-7) translate(0 -0.00000119209) translate(0 3) translate(0 6) translate(0 4.76837e-7) translate(0 4.76837e-7) translate(0 -9.53674e-7) translate(0 4.76837e-7) translate(0 4.76837e-7) translate(0 3) translate(0 -9.53674e-7) translate(0 -3) translate(0 -3) translate(0 -3) translate(0 -3) translate(0 -3) translate(0 -6) translate(0 -3) translate(0 -9.53674e-7) translate(0 -3) translate(0 -3) translate(0 -6) translate(0 -6) translate(0 -6) translate(0 -3) translate(0 -9) translate(0 -6) translate(0 -6) translate(0 -11) translate(0 -11) translate(0 0.00000762939) translate(0 -3.00001) translate(0 0.00000762939) translate(0 -3.00001) translate(0 0.00000762939) translate(0 -0.00000762939) translate(0 0.00000762939) translate(0 -0.00000762939) translate(0 0.00000762939) translate(0 -0.00000762939) translate(0 0.00000762939) translate(0 -0.00000762939) translate(0 -2.99999) translate(0 -0.00000762939) translate(0 0.00000762939) translate(0 -0.00000762939) translate(0 0.00000762939) translate(0 3.42857) translate(-0.000038147 0) translate(0.0000305176 0) translate(-0.000038147 0) translate(0.0000305176 0) translate(-0.0000038147 0) translate(-0.0000038147 0) translate(-0.0000038147 0) translate(-0.0000038147 0) translate(0.0000305176 0) translate(-0.000038147 0) translate(0.0000305176 0) translate(-0.000038147 0) translate(0.0000305176 0) translate(-0.0000038147 0) translate(-0.0000038147 0) translate(-0.0000038147 0) translate(-3 0) translate(-3 0) translate(-3 0) translate(-6 0) translate(-3 0) translate(-3 0) translate(-3 0) translate(3 0) translate(-3 0) translate(0.0000305176 0) translate(-0.000038147 0) translate(0.0000305176 0) translate(-0.000038147 0) translate(0.0000305176 0) translate(-3.00001 0) translate(-0.00000762939 0) translate(-2.99997 0) translate(-3.00004 0) translate(-2.99997 0) translate(-6.00004 0) translate(-8.99997 0) translate(-3.00001 0) translate(-20 0) translate(-14 0) translate(-11 0) translate(-11 0) translate(-11 0) translate(-6.00008 0) translate(-8.99994 0) translate(-6.00002 0) translate(-3.00002 0) translate(-5.99994 0) translate(-6.00008 0) translate(-2.99994 0) translate(-6.00008 0) translate(0.0000610352 0) translate(-0.0000152588 0) translate(-3.00002 0) translate(0.0000610352 0) translate(-0.0000762939 0) translate(0.0000610352 0) translate(-0.0000762939 0) translate(-2.99994 0) translate(-3.00002 0) translate(-3.00002 0) translate(-2.99994 0) translate(-0.0000762939 0) translate(0.0000610352 0) translate(-0.0000762939 0) translate(-5.99994 0) translate(-0.0000152588 0) translate(-0.0000152588 0) translate(0.0000610352 0) translate(-0.0000762939 0) translate(-2.99994 0) translate(-0.0000762939 0) translate(0.0000610352 0) translate(-0.0000152588 0) translate(-0.0000152588 0) translate(0.0000610352 0) translate(-0.0000762939 0) translate(0.0000610352 0) translate(-3.00008 0) translate(-8.99994 0) translate(-3.46158 0) translate(199.962 0) translate(0 76)">
    <!-- Arrowhead Marker Definition -->
    <marker id="svg_1" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
     <polygon id="svg_3" points="0 0, 10 3.5, 0 7" fill="#333"/>
    </marker>
   </defs>
   <!-- Main Title -->
   <text id="svg_4" x="167.5" y="34.42857" class="title" font-size="14px" font-weight="bold" fill="#111" text-anchor="middle">Finetuned Llama 3.1 8B (LoRA) for OTSD</text>
   <!-- Input -->
   <rect id="svg_5" x="107.5" y="59.42857" width="120" height="30" class="box" fill="#e0f2f7" stroke="#0277bd" stroke-width="1.5" rx="5" ry="5"/>
   <text id="svg_6" x="167.5" y="74.42857" class="label" font-size="10px" fill="#333" text-anchor="middle" dominant-baseline="middle">Input Text (Prompt)</text>
   <line id="svg_7" x1="167.5" y1="89.42857" x2="167.5" y2="109.42857" class="arrow" stroke="#333" stroke-width="1.5" marker-end="url(#svg_1)"/>
   <!-- Embedding -->
   <rect id="svg_8" x="92.5" y="109.42857" width="150" height="40" class="box" fill="#e0f2f7" stroke="#0277bd" stroke-width="1.5" rx="5" ry="5"/>
   <text id="svg_9" x="167.5" y="129.42857" class="label" font-size="10px" fill="#333" text-anchor="middle" dominant-baseline="middle">Input Embedding</text>
   <text id="svg_10" x="167.5" y="142.42857" class="sub-label" font-size="9px" fill="#444" text-anchor="middle" dominant-baseline="middle">+ Positional Encoding</text>
   <text id="svg_11" x="167.5" y="159.42857" class="frozen-label" font-size="8px" fill="#666" text-anchor="middle" dominant-baseline="middle" font-style="italic">(Frozen)</text>
   <line id="svg_12" x1="167.5" y1="169.42857" x2="167.5" y2="189.42857" class="arrow" stroke="#333" stroke-width="1.5" marker-end="url(#svg_1)"/>
   <!-- Transformer Decoder Layer 1 -->
   <rect id="svg_13" x="47.5" y="189.42857" width="240" height="120" class="box" fill="#e0f2f7" stroke="#0277bd" stroke-width="1.5" rx="5" ry="5"/>
   <text id="svg_14" x="167.5" y="204.42857" class="label" font-size="10px" fill="#333" text-anchor="middle" dominant-baseline="middle">Transformer Decoder Layer 1</text>
   <text id="svg_15" x="167.5" y="217.42857" class="frozen-label" font-size="8px" fill="#666" text-anchor="middle" dominant-baseline="middle" font-style="italic">(Base Weights Frozen)</text>
   <!-- MHSA + LoRA -->
   <rect id="svg_16" x="67.5" y="229.42857" width="160" height="30" class="sub-box" fill="#ffffff" stroke="#546e7a" rx="3" ry="3"/>
   <text id="svg_17" x="147.5" y="244.42857" class="sub-label" font-size="9px" fill="#444" text-anchor="middle" dominant-baseline="middle">Multi-Head Self-Attention</text>
   <rect id="svg_18" x="232.5" y="229.42857" width="45" height="30" class="lora-box" fill="#fff3e0" stroke="#ff9800" rx="3" ry="3"/>
   <text id="svg_19" x="255" y="244.42857" class="lora-label" font-size="7px" fill="#bf360c" text-anchor="middle" dominant-baseline="middle" font-weight="bold">LoRA</text>
   <line id="svg_20" x1="227.5" y1="244.42857" x2="232.5" y2="244.42857" class="lora-arrow" stroke="#ff9800" marker-end="url(#svg_1)"/>
   <!-- Connect MHSA to LoRA -->
   <!-- FFN + LoRA -->
   <rect id="svg_21" x="67.5" y="264.42857" width="160" height="30" class="sub-box" fill="#ffffff" stroke="#546e7a" rx="3" ry="3"/>
   <text id="svg_22" x="147.5" y="279.42857" class="sub-label" font-size="9px" fill="#444" text-anchor="middle" dominant-baseline="middle">Feed-Forward Network</text>
   <rect id="svg_23" x="232.5" y="264.42857" width="45" height="30" class="lora-box" fill="#fff3e0" stroke="#ff9800" rx="3" ry="3"/>
   <text id="svg_24" x="255" y="279.42857" class="lora-label" font-size="7px" fill="#bf360c" text-anchor="middle" dominant-baseline="middle" font-weight="bold">LoRA</text>
   <line id="svg_25" x1="227.5" y1="279.42857" x2="232.5" y2="279.42857" class="lora-arrow" stroke="#ff9800" marker-end="url(#svg_1)"/>
   <!-- Connect FFN to LoRA -->
   <text id="svg_26" x="167.5" y="302.42857" class="sub-label" font-size="9px" fill="#444" text-anchor="middle" dominant-baseline="middle">(+ LayerNorm, Skip)</text>
   <line id="svg_27" x1="167.5" y1="309.42857" x2="167.5" y2="324.42857" class="arrow" stroke="#333" stroke-width="1.5" marker-end="url(#svg_1)"/>
   <!-- Dots indicating multiple layers -->
   <text id="svg_28" x="167.5" y="334.42857" font-size="16px" fill="#555" text-anchor="middle">... (N Layers)</text>
   <line id="svg_29" x1="167.5" y1="344.42857" x2="167.5" y2="359.42857" class="arrow" stroke="#333" stroke-width="1.5" marker-end="url(#svg_1)"/>
   <!-- Transformer Decoder Layer N -->
   <rect id="svg_30" x="47.5" y="359.42857" width="240" height="120" class="box" fill="#e0f2f7" stroke="#0277bd" stroke-width="1.5" rx="5" ry="5"/>
   <text id="svg_31" x="167.5" y="374.42857" class="label" font-size="10px" fill="#333" text-anchor="middle" dominant-baseline="middle">Transformer Decoder Layer N</text>
   <text id="svg_32" x="167.5" y="387.42857" class="frozen-label" font-size="8px" fill="#666" text-anchor="middle" dominant-baseline="middle" font-style="italic">(Base Weights Frozen)</text>
   <!-- MHSA + LoRA -->
   <rect id="svg_33" x="67.5" y="399.42857" width="160" height="30" class="sub-box" fill="#ffffff" stroke="#546e7a" rx="3" ry="3"/>
   <text id="svg_34" x="147.5" y="414.42857" class="sub-label" font-size="9px" fill="#444" text-anchor="middle" dominant-baseline="middle">Multi-Head Self-Attention</text>
   <rect id="svg_35" x="232.5" y="399.42857" width="45" height="30" class="lora-box" fill="#fff3e0" stroke="#ff9800" rx="3" ry="3"/>
   <text id="svg_36" x="255" y="414.42857" class="lora-label" font-size="7px" fill="#bf360c" text-anchor="middle" dominant-baseline="middle" font-weight="bold">LoRA</text>
   <line id="svg_37" x1="227.5" y1="414.42857" x2="232.5" y2="414.42857" class="lora-arrow" stroke="#ff9800" marker-end="url(#svg_1)"/>
   <!-- Connect MHSA to LoRA -->
   <!-- FFN + LoRA -->
   <rect id="svg_38" x="67.5" y="434.42857" width="160" height="30" class="sub-box" fill="#ffffff" stroke="#546e7a" rx="3" ry="3"/>
   <text id="svg_39" x="147.5" y="449.42857" class="sub-label" font-size="9px" fill="#444" text-anchor="middle" dominant-baseline="middle">Feed-Forward Network</text>
   <rect id="svg_40" x="232.5" y="434.42857" width="45" height="30" class="lora-box" fill="#fff3e0" stroke="#ff9800" rx="3" ry="3"/>
   <text id="svg_41" x="255" y="449.42857" class="lora-label" font-size="7px" fill="#bf360c" text-anchor="middle" dominant-baseline="middle" font-weight="bold">LoRA</text>
   <line id="svg_42" x1="227.5" y1="449.42857" x2="232.5" y2="449.42857" class="lora-arrow" stroke="#ff9800" marker-end="url(#svg_1)"/>
   <!-- Connect FFN to LoRA -->
   <text id="svg_43" x="167.5" y="472.42857" class="sub-label" font-size="9px" fill="#444" text-anchor="middle" dominant-baseline="middle">(+ LayerNorm, Skip)</text>
   <line id="svg_44" x1="167.5" y1="479.42857" x2="167.5" y2="499.42857" class="arrow" stroke="#333" stroke-width="1.5" marker-end="url(#svg_1)"/>
   <!-- Linear Output Layer -->
   <rect id="svg_45" x="92.5" y="499.42857" width="150" height="36" class="box" fill="#e0f2f7" stroke="#0277bd" stroke-width="1.5" rx="5" ry="5"/>
   <text id="svg_46" x="167.5" y="514.42857" class="label" font-size="10px" fill="#333" text-anchor="middle" dominant-baseline="middle">Linear Output Layer</text>
   <text id="svg_47" x="167.5" y="527.42857" class="frozen-label" font-size="8px" fill="#666" text-anchor="middle" dominant-baseline="middle" font-style="italic">(Frozen)</text>
   <line id="svg_48" x1="167.5" y1="534.42857" x2="167.5" y2="554.42857" class="arrow" stroke="#333" stroke-width="1.5" marker-end="url(#svg_1)"/>
   <!-- Softmax -->
   <rect id="svg_49" x="107.5" y="554.42857" width="120" height="30" class="box" fill="#e0f2f7" stroke="#0277bd" stroke-width="1.5" rx="5" ry="5"/>
   <text id="svg_50" x="167.5" y="569.42857" class="label" font-size="10px" fill="#333" text-anchor="middle" dominant-baseline="middle">Softmax</text>
   <line id="svg_51" x1="167.5" y1="584.42857" x2="167.5" y2="604.42857" class="arrow" stroke="#333" stroke-width="1.5" marker-end="url(#svg_1)"/>
   <!-- Output Probabilities -->
   <rect id="svg_52" x="67.5" y="604.42857" width="200" height="40" class="box" fill="#e0f2f7" stroke="#0277bd" stroke-width="1.5" rx="5" ry="5"/>
   <text id="svg_53" x="167.5" y="619.42857" class="label" font-size="10px" fill="#333" text-anchor="middle" dominant-baseline="middle">Generated Output</text>
   <text id="svg_54" x="167.5" y="634.42857" class="sub-label" font-family="monospace" font-size="9px" fill="#444" text-anchor="middle" dominant-baseline="middle">Target: ..., Stance: ...</text>
  </g>
 </g>
</svg>